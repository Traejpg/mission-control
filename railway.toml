# Railway Deployment Configuration
# Mission Control Backend with Persistent Storage

[build]
builder = "nixpacks"

[deploy]
startCommand = "node server.cjs"
healthcheckPath = "/health"
healthcheckTimeout = 100
restartPolicyType = "on_failure"
restartPolicyMaxRetries = 10

# Persistent volume for memory files
[[mounts]]
name = "memory-data"
path = "/data/memory"

[variables]
NODE_ENV = "production"
PORT = "${PORT}"
MEMORY_DIR = "/data/memory"
